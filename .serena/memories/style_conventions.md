# Code Style & Conventions

## Go Code Style
- Follow standard Go conventions (gofmt, goimports)
- Local imports prefixed with `firecrest-go`
- Error handling: check errors explicitly, use `errors.Is()` for comparisons

## Handler Patterns
- All handlers are methods on `*application` struct
- Signature: `func (app *application) handlerName(w http.ResponseWriter, r *http.Request)`
- Use `app.serverError(w, r, err)` for 500 errors
- Use `app.clientError(w, status)` for 4xx errors
- Use `app.notFound(w)` for 404 errors
- Use `app.render(ctx, w, status, template)` for template rendering

## Route Patterns
- Routes defined in `routes.go` in `(*application).routes()` method
- Use `mux.Handle("METHOD /path", middleware.ThenFunc(handler))` for routes with middleware
- Use `mux.HandleFunc("METHOD /path", handler)` for routes without dynamic middleware
- Path parameters accessed via `r.PathValue("param")`

## Database Patterns
- All database code generated by sqlc in `/db/` package
- Queries defined in `query.sql`
- Schema defined in `schema.sql`
- Always pass `r.Context()` to database methods

## Linting Rules
- Comprehensive linting via `.golangci.yml`
- Generated files (`_templ.go`, `.sql.go`) are excluded from strict linting
- Security checks enabled via gosec
- Import sorting enforced via goimports
